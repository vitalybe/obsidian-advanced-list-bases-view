/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var f=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var P=(n,t)=>{for(var e in t)f(n,e,{get:t[e],enumerable:!0})},V=(n,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of T(t))!C.call(n,r)&&r!==e&&f(n,r,{get:()=>t[r],enumerable:!(o=L(t,r))||o.enumerable});return n};var D=n=>V(f({},"__esModule",{value:!0}),n);var S={};P(S,{default:()=>u});module.exports=D(S);var b=require("obsidian");var a=require("obsidian"),O="list-advanced",d=class extends a.BasesView{constructor(e,o){super(e);this.type=O;this.containerEl=o.createDiv({cls:"bases-advanced-list-container is-loading",attr:{tabIndex:0}})}debugLog(e,...o){console.log(`[ListAdvancedView] ${e}`,...o)}onload(){}onunload(){}onResize(){}focus(){this.containerEl.focus({preventScroll:!0})}onDataUpdated(){this.debugLog("onDataUpdated"),this.containerEl.removeClass("is-loading"),this.renderList()}async renderList(){var m;let e=(m=this.app.workspace.activeEditor)==null?void 0:m.editor,o=(e==null?void 0:e.getScrollInfo().top)||0;if(this.debugLog("Saving scroll position",o),this.containerEl.empty(),!this.data||!this.data.data)return;let r=this.data.data,w=this.config.getOrder()||[];for(let h=0;h<r.length;h++){let y=r[h],E=this.containerEl.createDiv("bases-list-entry");for(let g of w)try{let i=y.getValue(g);if(i){let v=i.toString();if(v.startsWith("!dynamic=")){let l=v.substring(9),c=E.createDiv("bases-list-template"),p=y.file.path;try{let s=this.app.vault.getAbstractFileByPath(l);if(s&&s instanceof a.TFile){let x=(await this.app.vault.read(s)).replace(/filePathPlaceholder/g,p);await a.MarkdownRenderer.render(this.app,x,c,p,this)}else c.createEl("div",{text:`Template file not found: ${l}`})}catch(s){console.error(`Error rendering template for ${p}:`,s),c.createEl("div",{text:`Error: ${s.message}`})}}else if(v.trim()!==""){let l=E.createDiv("bases-list-property"),c=l.createSpan("bases-list-property-label");c.textContent=this.config.getDisplayName(g)+":";let p=l.createSpan("bases-list-property-value");i.renderTo(p,this.app.renderContext)}}}catch(i){console.error(`Error rendering property ${g}:`,i)}h<r.length-1&&this.containerEl.createEl("hr",{cls:"advanced-list-entry-separator"})}this.debugLog("Restoring scroll position",o),e==null||e.scrollTo(null,o)}static getViewOptions(){return[]}};var u=class extends b.Plugin{async onload(){this.registerBasesView("list-advanced",{name:"List Advanced",icon:"lucide-scroll-text",factory:(t,e)=>new d(t,e),options:d.getViewOptions})}onunload(){}};
